/*!
 * Dark Mode Switch v1.0.1 (https://github.com/coliff/dark-mode-switch)
 * Copyright 2021 C.Oliff
 * Licensed under MIT (https://github.com/coliff/dark-mode-switch/blob/main/LICENSE)
 */
var darkSwitch=document.getElementById("darkSwitch");

window.addEventListener("load",(function(){
    if(darkSwitch){
        initTheme();
        darkSwitch.addEventListener("change",(function(){
            resetTheme()
        }))
    }
}));
            
function initTheme(){
    const iptDarkSwitch = document.querySelector('#confereDark');
    var darkThemeSelected=localStorage.getItem("darkSwitch")!==null&&localStorage.getItem("darkSwitch")==="dark";
    darkSwitch.checked=darkThemeSelected;
    
    darkThemeSelected ? document.body.setAttribute("data-theme","dark")
        : document.body.removeAttribute("data-theme");

    darkThemeSelected ? iptDarkSwitch.value = "true" : iptDarkSwitch.value = "false";
}

function resetTheme(){
    const navBar = document.querySelector('#navbar-switcher');
    const card = document.querySelectorAll('.card');
    const textCard = document.querySelectorAll('div.cards p');
    const imgLogo = document.querySelector('#navbar-switcher > div > a > div > img');

    if(darkSwitch.checked){
        document.body.setAttribute("data-theme","dark");
        localStorage.setItem("darkSwitch","dark");

        navBar.classList.remove("navbar-light");
        navBar.classList.add("navbar-dark");

        card[0].style.backgroundColor = "#111";
        card[1].style.backgroundColor = "#111";
        card[2].style.backgroundColor = "#111";

        textCard[0].style.color = "#fff";
        textCard[1].style.color = "#fff";
        textCard[2].style.color = "#fff";

        imgLogo.src="./assets/logo-dark.png";

    }else{
        document.body.removeAttribute("data-theme");
        localStorage.removeItem("darkSwitch");

        navBar.classList.remove("navbar-dark");
        navBar.classList.add("navbar-light");

        card[0].style.backgroundColor = "#fff";
        card[1].style.backgroundColor = "#fff";
        card[2].style.backgroundColor = "#fff";

        textCard[0].style.color = "#000";
        textCard[1].style.color = "#000";
        textCard[2].style.color = "#000";

        imgLogo.src="./assets/logo.png";
    }
}
